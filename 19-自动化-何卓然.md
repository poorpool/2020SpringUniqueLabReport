### 2020/03/02

学习时间：3.5 h

中午收到了题目，然后下午上了 2 节 * 2 课时的课程，直到五点半下课。

研究了一下三个题目具体的内容，打算搞 SFS 还有 Shell 这两个。

先花了一些功夫搞清楚题面的大概意思，然后实现了 "sfsVarchar" 这一部分，大概地写了几个 "sfsTable" 和 "sfsDatabase" 的函数，还有处理 meta 的函数。

感想：感觉自己的学习效率真是太慢了... 3h bomb-lab不得不服... 明天打算多花一点时间在代码上面，空闲时间学一下 Shell

---

### 2020/03/03

学习时间：10 h

今天从上午九点左右就开始在干活，把题意大部分不清楚的弄明白之后，进度加快了一些，但是这种涉及很多复杂指针内存分配的程序我写起来还是相对有点慢。

到中午的时候，写完了 "sfsTable" 的全部函数，还有一点 "sfsDatabase" 的函数。

下午两点多的时候，把前面的所有代码 review 了一遍，修了不少 bug。

下午五点左右，实现了除了文件读写操作部分的函数，大概地把写过的代码静态查了查错误，把自己能想到的一些case 补了以下，无 warning 过编译之后就没管了，还没有做任何测试。

晚上大概七点多开始写文件读写，这个部分却是很难搞，到不是说 技术上，原理上 有障碍，就是各种转换，内存分配，比较烦。最后花了不少时间，总算是大概写了出来，预计明天再查查错，单元测试一下。

昨天说要学 Shell，今天也没咋看，只花了大概 30 分钟学了一些基本内容。

今天大概就这样。

---

### 2020/03/04

学习时间: 7 h

今天上午有 2 节 * 2 课时的课，所以下午才开始干活。

由于昨天一直在 rush ，当时给今天安排的计划就是调试，跑通整个程序，所以任务还算是能完的成。

大概花了 2 个多小时，查出了不少错误，把自己定义的几个程序跑了一下单元测试，还把几个涉及内存管理略少的库函数调试了一下。

然后文件读写的部分，也花了 2 - 3 个小时，各种查错，还被柔性数组地址问题坑了一下，晚上七点多总算可以顺利地跑通样例了，中间过程用调试工具也仔细地查看过，应该还算可以，~~最后也能够读写一致。~~

晚上那段时间忘记还有 CRC-32 的坑一直没有填，~~摸了一会儿~~，然后跑去学习了一下 bash，有一个多小时吧，了解了一下输出，重定向，特殊字符，基本句法结构。

然后突然看群里面说 CRC ，才想起来这个事情，赶紧回去弄了一下，只是学了一下算法流程，还没有搞懂算法的原理，以及错误率的计算。回去把这一部分补上，算是基本完成了这个 task 吧！

后续更了新的样例，再回去跑一跑，目前就就先不查错了。

一下子弄到这个点了...不过明天是自动化祖传的 DOS-BC C 语言教学，~~还是挂机比较好~~...

---

### 2020/03/05

学习时间: 7 h

今天课还可以，不算多，开始的时候还是回去把 SFS 中刚刚想到一些小错误改了改，又调了调，加了注释，调整了一点结构，增强了一点可读性。

中午之后，开始学习 bash 脚本，网络上的资源都是培训班的，讲的实在太差了，而且速度又特别慢。跑去实验楼学习了一下，把基本的条件分支，循环，函数，传参的都看过了，一边跟着码代码，一边做一点小题目，大概花了两个多小时。

晚上开始进入项目程序的编写，先是写了对应的说明文档，这里面函数也挺多的，描述格式还有功能，还有对应的 prompt，颜色，下划线等等，花了不少时间。。。

然后用之前在 Cache lab 里面刚学过的方法写了命令行参数的解析，基本处理完了程序的大概框架，后面就是分别实现接口了。

基本就是这样，效率还是很低...

---

### 2020/03/06

学习时间: 7 h

今天有 2 节 * 2 课时的课程，也是相对重要的课程，就没有摸鱼。

把昨天的输入模式给换了一下，因为参数不多，就直接采用判断的形式了，主要完成了输入的框架，异常处理，文件和文件夹的切换、复制、备份、还原、合并、手动输入的操作。

还写了一个比较暴力的查家族的函数，了解了一下 Base 64 算法，希望明天肝一肝可以把第二个 task 做个 80%

---

### 2020/03/07

学习时间: 6 h

今天主要是搞了家族相关的所有函数，查看个人的家族，生成家族信息文件，查私生子问题。这些东西花了好长时间，本来写日志之前，还以为今天成果颇丰，结果仔细一想发现还是没啥成果。

原本写 Base 64 的时候想了半天格式，转义、处理的问题，（大概基本弄好了？），花费不少时间，后来才发现有系统命令级别的轮子可以直接使用，也没有依赖（的确就应该如此，这个算法还是比较简单的）。然后就果断调用系统命令来写了。

~~(验收的时候被学长提醒可以直接 memcpy，真是感觉自己好傻，一开始进了这个坑就没再考虑任何别的。）~~

到目前为止， shell 这个任务还剩下：

- 每次登入时候校验数据的变化

- 3 个处理 title 的功能
- 再加一点点异常处理，特别是导入数据失败的时候，现在只设计了命令错误、参数错误的情况

希望明天可以把 shell 做完，然后进入网络。

---

### 2020/03/08

学习时间: 8 h

今天写完了继承相关的三个函数，花了不少时间，还剩下一些收尾的工作，争取明天上午抓紧时间完成，再加一点注释，修正一些格式，提升一下代码的质量，然后开始网络的部分。

---

### 2020/03/09

学习时间: 7 h

今天课程比较多，上午先花了不到两个小时把 shell 项目的剩余工作完成了，清理了一些比较丑的代码，基本完成了这个任务。

下午也是满课，空闲的时间里面，听学长的建议先开始看 《 图解 TCP/ IP 》，今天主要还是学习网络的基本概念基本协议，各个层级、各种设备、各种地址。

- 网络每个层级的大概功能，接口
- TCP / UDP 协议，（其中比较基本的内容）
- 学习 SNMP 的原理、动机、网络拓扑（这些东西学的时候感觉角度有点高，大概过段时间会有更深入的理解）
- 在自己平常用的代理服务器上安装第三方的 snmpd 服务端，本机安装 snmp 客户端，尝试了别人实现的 snmp，试着从客户端读取服务器的状态信息
- Python Socket 库的简单用法，基本的一些函数
- 在本地用 UDP 连接服务器，实现了基本的通信，发了一条 Hello

---

### 2020/03/10

学习时间: 8 h

今天先是向学长了解了一下收发 SNMP 包的问题，了解可以用外部库之后就去搞了个 pysnmp 玩了玩，努力地学习了一下里面的接口，还是没有弄明白最终发 socket 的部分的具体的命令解析（从 mib 库的字段查询命令转换到 SNMP 包首部的内容）。这个 snmp3 的库确实像它自己说的一样一点也不 simple...

后面又向学长请教，题目的一些具体的问题，这才发现自己又理解错了一点。（~~btw 这里必须得跟学长说一下...题面里面真的没有写“流量伪装成 SNMP”从开头部分揣测倒是可以...不过确实没有说的很清楚啊...~~）

理解了这个意思之后，又因为 pysnmp 还没有玩好，于是我就对照着手写了 SNMP 应该有的首部，接下来就是留给后面的协议的字段的空间。

然后开始设计稳定传输的改进（厚着脸皮说是改进...说不定速度赶不上 TCP）版本 UDP 协议，其实这个过程也还比较 intuitive，就像 TCP 那样给一个回执（握手）。然后写了具体的文档，说明这个协议的报文结构，还有传输过程，丢包的时候的重发模式，大概就是这样。



后面又学习了一下 tcpdump 的基本使用，测试了一下自己写的 SNMP Header Generator，顺利地被识别为 SNMP 流量。一开始还有点不确信，不知道是不是因为我用的是 161 端口，而自动产生了判断，仔细看了一下发现了：

> 22:02:21.030680 IP localhost.36232 > localhost.snmp:  GetNextRequest(14) 

已经判断出了 GetNextRequest，这也是我选用的首部里面用的那个，一下子就确信了。。

今天进展还算可以，希望明天可以实现计划的协议中的大部分吧。

---

### 2020/03/11

学习时间: 8 h

今天上午有半天的课，下午才开始干活。

按照计划，今天开始实现协议，开始写的时候才发现，自己有些报文格式设计的还有一些问题。在开发的过程中，还又不断地进行了一些修改，也导致进度不断拖慢...到下午五点的时候，终于把不带重发的协议实现好了，赶紧上去跑了一下，问题不少，各种转码和格式的问题。于是就开始在两边不停调试，修了许许多多个 BUG，到最后都开始佩服自己一开始那个程序居然敢直接上来跑...

今天主要实现了文本文件的传输的过程，本地测试了比较大的文件，应该是没有问题了。传命令的过程也用的是同样的框架，略微添加一点代码就可以了。在调试成功之后就开始进入丢包回执的部分，后面只是写完了这个部分， SSH 到服务器上面，发现丢包的问题还是没有解决...明天还需要再进行调试。

勉强完成了昨天的计划，希望明天可以：

- 调好丢包回执，实现稳定传输
- 完成命令传输
- 争取搞一下伪终端，感觉可能完不成

---

### 2020/03/12

学习时间: 8 h

今天上午是自动化祖传 C 语言。

按照计划，今天重点是处理丢包，实现稳定传输。首先进行了非常艰苦的 Debug，在服务器上没有图形界面，而且 ssh 的连接比较差，操作的延迟非常痛苦...最终找到了问题...是对回执丢包问题的处理。

然后尝试向服务器了传输 560 KB 的文件，一个包可以传 220B 左右的数据，到服务器的延迟 250ms..最终的网速是 0.4kb/s...

现在终于理解了学长说的，不要求速度的原因了，之前啥都不懂，根本没想到自己这个协议网速这么感人，毕竟还是一个包一个包地发，从“带宽”地角度理解，~~“包宽度”大概是 1~~。

然后开始考虑伪终端的问题，学习了一下 Reverse Shell 的大概想法，然后大概实现了一下，基本实现了伪终端的功能，不过对于有些特殊情况还是有意想不到的结果，明天争取再把这个部分调试一下，大概收尾了。

---

### 2020/03/13

学习时间: 5 h 

今天有两节课，微积分和物理..

主要的工作就是学习伪终端、reverse shell 的内容，由于给的 std 参考里面有一些实在无法理解，查不到原因的环境依赖错误...最终不得不换了一种实现方式，在本地勉强可以实现基本操作。

然后照猫画虎地给 server 的主要部分加了一个多线程操作的 feature，Python 就是这一点好，可以用的库确实很多，很方便。

然后还有一件悲催的事情，在 SNMP 的题目里面，我一直用的 VScode 里面提供的 git，结果导致 git 目录被莫名其妙地建立在了上一级，导致最终没有办法再用，只能最终传一个版本了，长记性了，以后一定好好看看...

大概就是这样吧，准备开始下面的 hackweek

下面是代码仓库地址：

[SFS](https://github.com/zhuo1angT/SFS-task)

[Shell](https://github.com/zhuo1angT/Shell-task)

[SNMP](https://github.com/zhuo1angT/SNMP-task)

----

### 2020/03/15

学习时间：5 h

昨天忘记写每日报告了，今天给补充一下...我的组主要是做一个 Unity 为引擎的游戏开发，主题是细胞与病毒，setting 是在某个器官里面，2D 网格化的地图，还有一些其它机制。

14号主要是讨论一些设计、安排的东西，完成了一个定时随机游走的体细胞的 AI，也比较简陋。15号花了一些时间读组内其它的代码，还写了一个细胞液里面漂着的，可以被吸附的病毒的一些基本的函数实现。

---

### 2020/03/16

学习时间：6 h

今天补充了昨天的病毒运动的逻辑，增加了一个吸附、还有弹性碰撞的功能。

除此之外，对于战斗系统的 UI 系统，开了一个头，完成了一部分。

----

### 2020/03/17

学习时间：6 h

今天做完了大部分的 UI ，还有一些对应的控制显示脚本，同时把各个同学的工作汇总了一下，大部分角色的控制已经写地差不多了。

----

### 2020/03/18

学习时间：7 h

补充了血量、BP 等属性的变色 Slider，修了一个射线的 Bug，还有切换地图相关的方块以及对应逻辑，还搞了一个很糙的细胞感染的逻辑。
